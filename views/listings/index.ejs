
<% layout("/layouts/boilerplate") %>

<style>
  #filters{
     display:flex;
     flex-wrap:wrap;
  }
  .filter{
    text-align: center;
    margin-right: 2rem;
    opacity:0.6;
  }
  .filter:hover{
    opacity:2;
    cursor: pointer;
  }
  .filter p{
    font-size: 0.8rem;
  }
  .filter i{
    font-size: 1.5rem;
  }
  button{
    border:none;
    background-color: transparent;
  }
  .toggle-button{
    border:1px solid black;
    border-radius: 1rem;
    height:4rem;
    width:19rem;
    margin-left: 63px;
   display: flex;
   align-items: center;
   align-content: center;
   text-align: center;

}

.toggle-info{
display:none;  
}

.block .filter{
  border-radius: 6px;
}
.bg-body-tertiary{
  background-color: transparent;
}


.taxbtn button{
  font-size: large;
  border-radius: 35px;
}
.dropdown-item:hover{
   background-color: transparent;
}

.taxbtn #flexSwitchCheckReverse{
  font-size: larger;
}


</style>

  <nav class="navbar navbar-expand-lg bg-body-tertiary fullnav mb-3 mt-4">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#"> <button type="submit" name="filter" value="trending">
              <div class="filter">
                <i class="fa-solid fa-fire"></i>
                <p>Trending</p>
              </div>
            </button></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">  <button type="submit" name="filter" value="beach">
              <div class="filter">
                <i class="fa-solid fa-umbrella-beach"></i>
                <p>Beach</p>
              </div>
            </button></a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">  <button type="submit" name="filter" value="beach">
              <div class="filter">
                <i class="fa-solid fa-bed"></i>
                <p>Rooms</p>
              </div>
            </button></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">  <button type="submit" name="filter" value="beach">
              <div class="filter">
                <i class="fa-solid fa-person-swimming"></i>
                <p>Pools</p>
              </div>
            </button></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">  <button type="submit" name="filter" value="beach">
              <div class="filter">
                <i class="fa-solid fa-sailboat"></i>
                <p>Boats</p>
              </div>
            </button></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"> <button type="submit" name="filter" value="farms">
              <div class="filter">
                <i class="fa-solid fa-cow"></i>
                <p>Farms</p>
              </div>
            </button></a>
          </li>

          <div class="navflex">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle mt-3" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            More filters
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#"><button type="submit" name="filter" value="mountains">
                <div class="filter">
                  <i class="fa-solid fa-mountain"></i>
                  <p>Mountains</p>
                </div>
              </button>
            </a>
          </li>
              <li><a class="dropdown-item" href="#"> <button type="submit" name="filter" value="towers">
                <div class="filter">
                  <i class="fa-solid fa-tower-observation"></i>
                  <p>Towers</p>
                </div>
              </button>
            </a>
          </li>
              <li><a class="dropdown-item" href="#"> <button type="submit" name="filter" value="camping">
                <div class="filter">
                  <i class="fa-solid fa-campground"></i>
                  <p>Camping</p>
                </div>
              </button></a></li>
            </ul>
          </li>
        </div>

         
        </ul>
      </div>
      <span class="taxbtn">
        <button class="toggle-button"> <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
          <label class="form-check-label" for="flexSwitchCheckReverse">Display Total After Taxes</label>
        </div >
        </button>
        </span>
    </div>
  </nav>




<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1" >
    <% for( let listing of listings) { %>
   <a href="/listings/<%= listing.id %>" class="edit-click">
        <div class="card  listing-card">
          <img src="<%= listing.image.url %>" class= "card-img-top image"  alt="Image home" style="height: 20rem;">
        <div class="card-img-overlay"></div>
        <div class="card-body">
          <p class="card-text">
           <b> <%= listing.title %> </b>
            <br>
            <%= (listing.price || 0).toLocaleString('en-PK') %> PKR / night 
            <i class="toggle-info">+18% GST</i>

          </p>
        </div>
      </div>     
    </a>

      <% } %>
</div>


<script>
  let togglebutton=document.getElementById("flexSwitchCheckReverse");
  togglebutton.addEventListener("click",()=>{
    let taxInfo=document.getElementsByClassName("toggle-info"); 
 for(info of taxInfo){
  if(taxInfo){
    if(info.style.display!=="inline"){
  info.style.display="inline";
    }
    else{
      info.style.display="none";
    }
  }
 }

  })

</script>






